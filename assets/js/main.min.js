function initMenu(){const e=document.getElementById("menuToggle"),t=document.getElementById("navMenu");if(!e||!t)return;e.addEventListener("click",(function(){e.classList.toggle("active"),t.classList.toggle("active")}));t.querySelectorAll("a").forEach((n=>{n.addEventListener("click",(function(){e.classList.remove("active"),t.classList.remove("active")}))})),document.addEventListener("click",(function(n){n.target.closest(".nav-main")||n.target.closest(".menu-toggle")||(e.classList.remove("active"),t.classList.remove("active"))}))}function initCarousel(){const e=document.getElementById("carousel"),t=document.getElementById("carouselPrev"),n=document.getElementById("carouselNext"),o=document.getElementById("carouselDots");if(!e)return;const a=e.querySelectorAll(".carousel-item");let r=0;function s(){if(a.forEach(((e,t)=>{e.classList.remove("active"),t===r&&e.classList.add("active")})),o){o.querySelectorAll(".carousel-dot").forEach(((e,t)=>{e.classList.remove("active"),t===r&&e.classList.add("active")}))}}function c(){r=(r+1)%a.length,s()}o&&a.forEach(((e,t)=>{const n=document.createElement("button");n.className="carousel-dot "+(0===t?"active":""),n.setAttribute("aria-label",`Slide ${t+1}`),n.addEventListener("click",(()=>function(e){r=e,s()}(t))),o.appendChild(n)})),n&&n.addEventListener("click",c),t&&t.addEventListener("click",(function(){r=(r-1+a.length)%a.length,s()}));let i=setInterval(c,5e3);e.addEventListener("mouseenter",(()=>{clearInterval(i)})),e.addEventListener("mouseleave",(()=>{i=setInterval(c,5e3)}))}function initAccordion(){document.querySelectorAll(".accordion-header").forEach((e=>{e.dataset.listenerAdded||(e.addEventListener("click",(function(e){e.target!==this&&e.target.closest(".accordion-header")!==this||handleAccordionClick(this)})),e.dataset.listenerAdded="true")}))}function handleAccordionClick(e){const t=e.nextElementSibling,n=e.querySelector(".accordion-icon"),o=t.classList.contains("active"),a=e.closest(".accordion");if(a){const e=a.querySelectorAll(".accordion-content.active"),o=a.querySelectorAll(".accordion-header .accordion-icon");e.forEach((e=>{e!==t&&e.classList.remove("active")})),o.forEach((e=>{e!==n&&(e.innerHTML="&#10133;")}))}o?(t.classList.remove("active"),n.innerHTML="&#10133;"):(t.classList.add("active"),n.style="color: purple;",n.innerHTML="&#8722;")}function validateEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}function validateContactForm(e,t,n,o){let a={};return e.trim().length<3&&(a.fullName="Nome deve ter pelo menos 3 caracteres"),validateEmail(t.trim())||(a.email="Email invÃ¡lido"),n.trim().length<5&&(a.subject="Assunto deve ter pelo menos 5 caracteres"),o.trim().length<10&&(a.message="Mensagem deve ter pelo menos 10 caracteres"),{isValid:0===Object.keys(a).length,errors:a}}if(document.addEventListener("DOMContentLoaded",(function(){initMenu(),initCarousel(),initAccordion()})),document.querySelectorAll('a[href^="#"]').forEach((e=>{e.addEventListener("click",(function(e){const t=this.getAttribute("href");"#"!==t&&document.querySelector(t)&&(e.preventDefault(),document.querySelector(t).scrollIntoView({behavior:"smooth"}))}))})),"IntersectionObserver"in window){const e=new IntersectionObserver(((e,t)=>{e.forEach((e=>{if(e.isIntersecting){const n=e.target;n.src=n.dataset.src||n.src,n.classList.add("loaded"),t.unobserve(n)}}))}));document.querySelectorAll("img[data-src]").forEach((t=>{e.observe(t)}))}function animateOnScroll(){const e=document.querySelectorAll(".product-card, .blog-card, .value-card, .why-item"),t=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&(e.target.style.animation="fadeInUp 0.6s ease forwards",t.unobserve(e.target))}))}),{threshold:.1});e.forEach((e=>t.observe(e)))}document.addEventListener("DOMContentLoaded",animateOnScroll);const style=document.createElement("style");function scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}style.textContent="\n    @keyframes fadeInUp {\n        from {\n            opacity: 0;\n            transform: translateY(30px);\n        }\n        to {\n            opacity: 1;\n            transform: translateY(0);\n        }\n    }\n",document.head.appendChild(style);const scrollTopBtn=document.createElement("button");function updateCartCount(){const e=localStorage.getItem("cartCount")||0,t=document.getElementById("cartBadge");t&&(t.textContent=e,t.style.display=e>0?"block":"none")}function addToCart(){const e=document.getElementById("quantity")?.value||1;let t=parseInt(localStorage.getItem("cartCount")||0);t+=parseInt(e),localStorage.setItem("cartCount",t),updateCartCount(),showNotification(`${e} item(ns) adicionado(s) ao carrinho!`,"success")}function showNotification(e,t="info"){const n=document.createElement("div");n.style.cssText=`\n        position: fixed;\n        top: 20px;\n        right: 20px;\n        padding: 15px 20px;\n        background-color: ${"success"===t?"#2ecc71":"#3498db"};\n        color: white;\n        border-radius: 8px;\n        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\n        z-index: 1000;\n        animation: slideIn 0.3s ease;\n        max-width: 300px;\n    `,n.textContent=e,document.body.appendChild(n),setTimeout((()=>{n.style.animation="slideOut 0.3s ease",setTimeout((()=>n.remove()),300)}),3e3)}scrollTopBtn.id="scrollTopBtn",scrollTopBtn.innerHTML="&uarr;",scrollTopBtn.style.cssText="\n    position: fixed;\n    bottom: 20px;\n    right: 20px;\n    padding: 12px 20px;\n    background-color: #2ecc71;\n    color: white;\n    border: none;\n    border-radius: 50%;\n    cursor: pointer;\n    display: none;\n    z-index: 99;\n    font-size: 1.4rem;\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);\n    transition: all 0.3s ease;\n",document.body.appendChild(scrollTopBtn),window.addEventListener("scroll",(()=>{window.pageYOffset>300?scrollTopBtn.style.display="block":scrollTopBtn.style.display="none"})),scrollTopBtn.addEventListener("click",scrollToTop);const notificationStyle=document.createElement("style");function initFaqSearch(){const e=document.getElementById("faqSearch");e&&e.addEventListener("keyup",(function(e){const t=e.target.value.toLowerCase(),n=document.querySelectorAll(".accordion-item");let o=0;n.forEach((e=>{e.textContent.toLowerCase().includes(t)?(e.style.display="block",o++):e.style.display="none"})),0===o&&t.length>0&&showNotification("Nenhum resultado encontrado","info")}))}function initShopFilters(){const e=document.querySelectorAll(".filter-checkbox"),t=document.querySelectorAll('input[name="price"]'),n=document.querySelectorAll(".product-card"),o=document.querySelector('.btn-secondary[style*="margin-top"]'),a=[{index:0,category:"casa",price:89.9},{index:1,category:"casa",price:45},{index:2,category:"casa",price:35.9},{index:3,category:"higiene",price:12.5},{index:4,category:"casa",price:28.9},{index:5,category:"higiene",price:25},{index:6,category:"moda",price:55},{index:7,category:"higiene",price:18.5}],r=()=>{const o=Array.from(e).filter((e=>e.checked)).map((e=>e.value)),r=Array.from(t).find((e=>e.checked))?.value;o.length;n.forEach(((e,t)=>{const n=a[t];let s=!0;if(o.length>0&&(s=o.includes(n.category)),s&&r){const e=n.price;switch(r){case"ate-50":s=e<=50;break;case"50-100":s=e>50&&e<=100;break;case"100-200":s=e>100&&e<=200;break;case"acima-200":s=e>200}}e.style.display=s?"flex":"none",e.style.animation=s?"fadeInUp 0.3s ease":"none"}));showNotification(`${Array.from(n).filter((e=>"none"!==e.style.display)).length} produto(s) encontrado(s)`,"info")};o&&o.addEventListener("click",(()=>{e.forEach((e=>e.checked=!1)),t.forEach((e=>e.checked=!1)),n.forEach((e=>e.style.display="flex")),showNotification("Filtros limpos! Mostrando todos os produtos","info")})),e.forEach((e=>{e.addEventListener("change",r)})),t.forEach((e=>{e.addEventListener("change",r)}))}function changeMainImage(e){const t=document.getElementById("mainImage");t&&(t.style.opacity="0.5",t.src=e,setTimeout((()=>{t.style.opacity="1"}),200))}notificationStyle.textContent="\n    @keyframes slideIn {\n        from {\n            transform: translateX(400px);\n            opacity: 0;\n        }\n        to {\n            transform: translateX(0);\n            opacity: 1;\n        }\n    }\n    \n    @keyframes slideOut {\n        from {\n            transform: translateX(0);\n            opacity: 1;\n        }\n        to {\n            transform: translateX(400px);\n            opacity: 0;\n        }\n    }\n",document.head.appendChild(notificationStyle),document.addEventListener("DOMContentLoaded",initFaqSearch),document.addEventListener("DOMContentLoaded",initShopFilters);const style2=document.createElement("style");function submitContactForm(e){e.preventDefault();const t=document.getElementById("fullName")?.value||"",n=document.getElementById("email")?.value||"",o=document.getElementById("subject")?.value||"",a=document.getElementById("message")?.value||"";document.querySelectorAll(".form-error").forEach((e=>e.textContent=""));const r=validateContactForm(t,n,o,a);if(!r.isValid)return void Object.keys(r.errors).forEach((e=>{const t=document.getElementById(`${e}Error`);t&&(t.textContent=r.errors[e])}));const s=e.target;s.style.display="none";const c=document.getElementById("successMessage");c&&(c.style.display="block"),setTimeout((()=>{s.reset(),s.style.display="block",c&&(c.style.display="none")}),3e3)}function subscribeNewsletter(e){e.preventDefault();const t=e.target.querySelector('input[type="email"]').value;validateEmail(t)?(showSubscriptionPopup(t),e.target.reset()):showErrorPopup("Email invÃ¡lido")}function showSubscriptionPopup(e){const t=document.createElement("div");t.className="popup-overlay",t.style.cssText="\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background-color: rgba(0, 0, 0, 0.5);\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        z-index: 2000;\n        animation: fadeIn 0.3s ease;\n    ";const n=document.createElement("div");n.className="subscription-popup",n.style.cssText="\n        background: linear-gradient(135deg, #ffffff 0%, #f0fdf4 100%);\n        border-radius: 16px;\n        padding: 40px;\n        max-width: 450px;\n        width: 90%;\n        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);\n        text-align: center;\n        animation: popupSlideIn 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);\n        border-left: 5px solid #2ecc71;\n        border-top: 2px solid #3498db;\n    ";const o=document.createElement("div");o.style.cssText="\n        font-size: 64px;\n        margin-bottom: 20px;\n        animation: popupBounce 0.6s ease;\n    ",o.textContent="âœ…";const a=document.createElement("h2");a.textContent="InscriÃ§Ã£o Realizada!",a.style.cssText="\n        color: #2ecc71;\n        margin: 0 0 15px 0;\n        font-family: 'Playfair Display', serif;\n        font-size: 28px;\n        font-weight: 700;\n    ";const r=document.createElement("p");r.style.cssText="\n        color: #555;\n        margin: 0 0 10px 0;\n        font-size: 16px;\n        line-height: 1.5;\n    ",r.textContent="Obrigado por se inscrever em nossa newsletter!";const s=document.createElement("p");s.style.cssText="\n        background-color: #e8f8f5;\n        color: #27ae60;\n        padding: 12px 16px;\n        border-radius: 8px;\n        margin: 15px 0;\n        font-weight: 600;\n        border-left: 3px solid #2ecc71;\n    ",s.textContent=`ðŸ“§ ${e}`;const c=document.createElement("p");c.style.cssText="\n        color: #666;\n        font-size: 14px;\n        margin: 15px 0;\n        line-height: 1.6;\n    ",c.textContent="VocÃª receberÃ¡ nossos melhores artigos, dicas sustentÃ¡veis e promoÃ§Ãµes exclusivas diretamente no seu email!";const i=document.createElement("button");i.textContent="âœ“ Fechar",i.style.cssText="\n        background: linear-gradient(135deg, #2ecc71 0%, #27ae60 100%);\n        color: white;\n        border: none;\n        padding: 12px 32px;\n        border-radius: 8px;\n        font-size: 16px;\n        font-weight: 600;\n        cursor: pointer;\n        margin-top: 20px;\n        transition: all 0.3s ease;\n        box-shadow: 0 4px 12px rgba(46, 204, 113, 0.3);\n    ",i.addEventListener("mouseover",(function(){this.style.transform="translateY(-2px)",this.style.boxShadow="0 6px 16px rgba(46, 204, 113, 0.4)"})),i.addEventListener("mouseout",(function(){this.style.transform="translateY(0)",this.style.boxShadow="0 4px 12px rgba(46, 204, 113, 0.3)"})),i.addEventListener("click",(function(){t.style.animation="fadeOut 0.3s ease",n.style.animation="popupSlideOut 0.3s ease",setTimeout((()=>t.remove()),300)})),n.appendChild(o),n.appendChild(a),n.appendChild(r),n.appendChild(s),n.appendChild(c),n.appendChild(i),t.appendChild(n),document.body.appendChild(t),t.addEventListener("click",(function(e){e.target===t&&(t.style.animation="fadeOut 0.3s ease",n.style.animation="popupSlideOut 0.3s ease",setTimeout((()=>t.remove()),300))}))}function showErrorPopup(e){const t=document.createElement("div");t.className="popup-overlay",t.style.cssText="\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background-color: rgba(0, 0, 0, 0.5);\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        z-index: 2000;\n        animation: fadeIn 0.3s ease;\n    ";const n=document.createElement("div");n.className="error-popup",n.style.cssText="\n        background: linear-gradient(135deg, #ffffff 0%, #fff5f5 100%);\n        border-radius: 16px;\n        padding: 40px;\n        max-width: 450px;\n        width: 90%;\n        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);\n        text-align: center;\n        animation: popupSlideIn 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);\n        border-left: 5px solid #e74c3c;\n        border-top: 2px solid #c0392b;\n    ";const o=document.createElement("div");o.style.cssText="\n        font-size: 64px;\n        margin-bottom: 20px;\n        animation: popupShake 0.5s ease;\n    ",o.textContent="âš ï¸";const a=document.createElement("h2");a.textContent="Oops!",a.style.cssText="\n        color: #e74c3c;\n        margin: 0 0 15px 0;\n        font-family: 'Playfair Display', serif;\n        font-size: 28px;\n        font-weight: 700;\n    ";const r=document.createElement("p");r.textContent=e,r.style.cssText="\n        background-color: #fadbd8;\n        color: #c0392b;\n        padding: 12px 16px;\n        border-radius: 8px;\n        margin: 15px 0;\n        border-left: 3px solid #e74c3c;\n        font-weight: 600;\n    ";const s=document.createElement("button");s.textContent="âœ“ Entendido",s.style.cssText="\n        background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);\n        color: white;\n        border: none;\n        padding: 12px 32px;\n        border-radius: 8px;\n        font-size: 16px;\n        font-weight: 600;\n        cursor: pointer;\n        margin-top: 20px;\n        transition: all 0.3s ease;\n        box-shadow: 0 4px 12px rgba(231, 76, 60, 0.3);\n    ",s.addEventListener("mouseover",(function(){this.style.transform="translateY(-2px)",this.style.boxShadow="0 6px 16px rgba(231, 76, 60, 0.4)"})),s.addEventListener("mouseout",(function(){this.style.transform="translateY(0)",this.style.boxShadow="0 4px 12px rgba(231, 76, 60, 0.3)"})),s.addEventListener("click",(function(){t.style.animation="fadeOut 0.3s ease",n.style.animation="popupSlideOut 0.3s ease",setTimeout((()=>t.remove()),300)})),n.appendChild(o),n.appendChild(a),n.appendChild(r),n.appendChild(s),t.appendChild(n),document.body.appendChild(t),t.addEventListener("click",(function(e){e.target===t&&(t.style.animation="fadeOut 0.3s ease",n.style.animation="popupSlideOut 0.3s ease",setTimeout((()=>t.remove()),300))}))}style2.textContent="\n    #mainImage {\n        transition: opacity 0.3s ease;\n    }\n",document.head.appendChild(style2);const popupStyles=document.createElement("style");popupStyles.textContent="\n    @keyframes fadeIn {\n        from {\n            opacity: 0;\n        }\n        to {\n            opacity: 1;\n        }\n    }\n    \n    @keyframes fadeOut {\n        from {\n            opacity: 1;\n        }\n        to {\n            opacity: 0;\n        }\n    }\n    \n    @keyframes popupSlideIn {\n        from {\n            opacity: 0;\n            transform: scale(0.8) translateY(-30px);\n        }\n        to {\n            opacity: 1;\n            transform: scale(1) translateY(0);\n        }\n    }\n    \n    @keyframes popupSlideOut {\n        from {\n            opacity: 1;\n            transform: scale(1) translateY(0);\n        }\n        to {\n            opacity: 0;\n            transform: scale(0.8) translateY(-30px);\n        }\n    }\n    \n    @keyframes popupBounce {\n        0%, 100% {\n            transform: translateY(0);\n        }\n        50% {\n            transform: translateY(-10px);\n        }\n    }\n    \n    @keyframes popupShake {\n        0%, 100% {\n            transform: translateX(0);\n        }\n        25% {\n            transform: translateX(-10px);\n        }\n        75% {\n            transform: translateX(10px);\n        }\n    }\n",document.head.appendChild(popupStyles),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(Element.prototype.matches.call(t,e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;--n>=0&&t.item(n)!==this;);return n>-1}),console.log("EcoVerse - Script Principal Carregado com Sucesso!");